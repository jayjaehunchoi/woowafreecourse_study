# 1주차 BaseballGame 분석과 고민
## 도메인 분석
### 1. 게임
이 프로그램은 간단한 게임이다. 간단한 콘솔 게임이지만 다른 게임들은 어떤 구조로 설계되고 만들어지는 지 분석해볼 필요가 있다.

- **게임 런쳐**
  - 일반적으로 즐겨하던 게임은 **exe** 파일을 통해 실행된다. **exe** 역할을 하는 클래스가 필요하다.
- **게임 서버**
  - 게임에는 내부적으로 특정한 로직을 수행하는 코드들이 존재한다. 이번 야구 게임으로 설명하자면, Strike인지 Ball인지 구분해주거나 게임의 실행 중지를 요청하는 정도의 내장 서버 역할을 하는 클래스가 필요하다.
- **게임 플레이어**
  - 게임 서버에 어떤 입력값을 주는 플레이어가 있을 것이다. 플레이어 역할을 하는 클래스가 필요하다.

#### 정리
게임이라는 특성상 게임 런처, 게임 서버, 게임 플레이어 역할을 수행하는 클래스가 필요하다.


### 2. 야구
이 프로그램은 **야구** 게임이다. 이 게임은 **야구** 중에서도 투수와 심판 사이에서 발생하는 내용이라고 생각했고 이를 분석해보았다.

- **투수**
  - 투수는 공을 던진다. (게임 플레이어)
- **심판**
  - 심판은 공이 strike인지 ball인지, 더해서 nothing인지 확인할 수 있다. (게임 서버)
- **전광판**
  - 게임이 진행되는 상황을 전광판을 통해 확인할 수 있다 (게임 서버에서 분리)

#### 정리
야구의 특성을 잘 분석해보니 게임과 유사한 구조를 가졌다. 하지만 심판은 점수를 보여주는 역할을 갖고 있지 않다.
따라서 게임 서버에서 , 점수를 보여주는 전광판 기능을 분리하는 것이 좋다고 생각했다.

### 결과
도메인 분석 결과 아래와 같이 클래스를 분리하여 설계하고자 한다.
1. 게임 런쳐 : 게임의 실행을 담당하는 클래스
2. 게임 서버 : 야구의 심판 역할, 게임의 로직을 수행하고 **상태를 변경하는** 클래스
3. 게임 Score : 야구의 전광판 역할, 변경된 상태를 **기록하고 출력하는** 클래스
4. 게임 플레이어 : 야구의 투수 역할, 게임 로직 수행에 필요한 값을 **입력하는** 클래스


## 기능적 요구사항 분석
#### 1. 1부터 9까지 서로 다른 수로 이루어진 3자리의 수를 맞추는 게임

이 한 문장에서 3가지 요구사항을 찾을 수 있다.
- 숫자의 범위 : 1부터 9까지
- 서로 다른 수 : 중복 불가
- 3자리 수 : 3자리

#### 2. 같은 수가 같은 자리에 있으면 스트라이크, 다른 자리에 있으면 볼, 같은 수가 전혀 없으면 포볼 또는 낫싱이란 힌트를 얻고, 그 힌트를 이용해서 먼저 상대방(컴퓨터)의 수를 맞추면 승리한다.

> 이 요구사항으로 인해 클래스 명에 대해 고민이 많이 된다. 내가 생각한 클래스 명과 비교해보면
> 상대방(컴퓨터) == 게임서버 이고 힌트 == 게임 Score이다.
> > 게임이라는 주제에 조금 더 과몰입하기 위해 Computer, Player, Hint가 아닌 게임에 더 어울리는 클래스 명을 선언하기로 결정했다.

- 같은 자리 비교 (스트라이크)
- 다른 자리 비교 (볼)
- 같은 값 없음 (포볼 or **낫싱**)

#### 3. 컴퓨터는 1에서 9까지 서로 다른 임의의 수 3개를 선택한다. 게임 플레이어는 컴퓨터가 생각하고 있는 3개의 숫자를 입력하고, 컴퓨터는 입력한 숫자에 대한 결과를 출력한다.

- 임의의 수 : Random 값 추출
- 플레이어가 3개의 숫자 입력 : 3개, 숫자
- 컴퓨터가 결과 출력

#### 4. 컴퓨터가 선택한 3개의 숫자를 모두 맞히면 게임이 종료된다.

- 3개의 숫자 맞히면 종료 : 3스트라이크 시 게임 종료 로직 수행

#### 5. 게임을 종료한 후 게임을 다시 시작하거나 완전히 종료할 수 있다.

- 종료되면 재시작 혹은 완전 종료 의사 묻기 

#### 6. 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException을 발생시킨 후 애플리케이션은 종료되어야 한다

- 예외 처리 후 종료 (예외 관련 메시지 안내 사항 없음 - 개별적 추가)

### 정리

1. 게임 실행 클래스가 게임 실행을 담당한다.     


2. 게임 실행시 서버는 최초 정답을 생성한다.
   - 생성값은 3자리 숫자이다.
   - 생성값은 1 ~ 9의 임의 숫자이다.
   - 생성값은 중복되어서는 안된다.
   

3. 서버는 숫자 입력 요청을 보내고 플레이어가 숫자를 **입력**한다.
   - 입력값은 3자리 숫자이다.
   - 입력값은 숫자이다.
   - 입력값은 중복되어서는 안된다.
   - 입력값의 범위는 1 ~ 9 이다.


4. 서버는 입력받은 숫자와 시스템 정답을 검증한다.
   - 3스트라이크의 경우 게임의 실행 상태를 종료 선택지 제공 대기상태로 변경한다.


5. 전광판은 검증된 정답을 출력한다.
   - 출력 후 저장된 기록을 초기화한다.


6. 정답 후 종료됐을 경우 서버는 선택지를 제공한다.
   - 1번을 입력할 경우 서버의 상태는 START로 전환되고 새로운 정답을 생성한다.
   - 2번을 입력할 경우 게임을 종료한다.

### 고민 후 결정 사항

#### 시스템 메시지
> 중간 중간 안내 메시지는 시스템관련 클래스가 들어있는 util 패키지에서 관리한다. 모든 변수를 정적 변수로 선언하여 어디서든 접근할 수 있게 상수값을 열어둔다.

#### 클래스 가시성
> 나중에 이 코드를 누군가 사용한다고 했을 때, 게임 관련 핵심 로직은 어디까지 열려있을까 깊이 생각해봤다.
> 실행 제외하고는 접근제한이 되어야 한다고 생각했고 실행 클래스 제외 모든 클래스를 package-private으로 선언하고자 한다.

#### 플레이어의 역할
> 플레이어 정답 입력은 플레이어 클래스, 종료 확인 요청은 서버 클래스에 작성하고자 한다. 
> 정답 입력은 플레이어가 주체가 되어 실행되어야 하는 로직이라고 생각했고,
> 종료 / 재실행 확인 요청은 서버가 직접 답을 받아 서버의 상태를 변경해야하기에 서버의 역할이라고 생각한다.

#### Validation
> 플레이어 입력에서 생각보다 검증해야 할 내용들이 많아 클래스를 분리하는 것이 SRP 원칙에 적합하다고 생각하였다.
